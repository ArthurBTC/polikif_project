<!DOCTYPE html>
<html>
<head>

	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	
{% load staticfiles %}

	<link rel="stylesheet" type="text/css" href="{% static 'univok/css/style.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'univok/css/anim.css' %}"> 
	<link rel="stylesheet" type="text/css" href="{% static 'gdpcore/joint.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'univok/css/hover-min.css' %}" />
<!--	<link rel="stylesheet" type="text/css" href="{% static 'gdpcore/nopadding.css' %}">	 -->
	<link rel="stylesheet" type="text/css" href="{% static 'gdpcore/css/bootstrap.min.css' %}">
<!--	<link rel="stylesheet" type="text/css" href="{% static 'gdpcore/jquery-ui-1.11/jquery-ui.min.css' %}"> -->
	<link rel="stylesheet" type="text/css" href="{% static 'gdpcore/animate.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'cdn/members.css' %}">
    
	<script src="{% static 'gdpcore/jquery.min.js' %}"></script>
<!--	<script src="{% static 'gdpcore/jquery-ui-1.11/jquery-ui.min.js' %}"></script>	-->
	<script src="{% static 'gdpcore/js/bootstrap.min.js' %}"></script>
	<script src="{% static 'gdpcore/lodash.min.js' %}"></script>
	<script src="{% static 'gdpcore/backbone-min.js' %}"></script>
	<script src="{% static 'gdpcore/joint.js' %}"></script>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
</head>
<body>
	<div class="container-fluid">

        <div class="row">
            {% for member in members %}
                {% if member.presenceCount > 0 %}
                    <div class = "memberBox">
                        <div class = "memberPhoto">
                            <img class="imgPhoto"  src="{{member.photo}}"></img>
                        </div>
                        <div class = "memberName">
                            {% if member.organisationCount > 0 %}
                        <img class="imgStar2" src="{% static 'cdn/star.png' %}" data-toggle="tooltip" data-placement="bottom" title="{{member.name}} a organisé un Café-Débat. Organisez le votre pour obtenir cette superbe étoile qui apporte paix et bonheur à ses possesseurs !"></img>
                            {% endif %}
                        {{member.name}} 
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
        
	</div>



<script>
  
    $(document).ready(function() {
        $('.imgPhoto').each(function() {
            console.log('test');
            var maxWidth = 200; // Max width for the image
            var maxHeight = 200;    // Max height for the image
            var ratio = 0;  // Used for aspect ratio
            var width = $(this).width();    // Current image width
            var height = $(this).height();  // Current image height

            HWRatio = height/width;
            
            // Check if the current width is larger than the max
            if(width >= height){
                //ratio = maxWidth / width;   // get ratio for scaling image
                //$(this).css("width", maxWidth); // Set new width
                //$(this).css("height", height * ratio);  // Scale height based on ratio
                
                $(this).css("width", maxHeight/ratio);
                $(this).css("height", maxHeight);
                
                //height = height * ratio;    // Reset height to match scaled image
                //width = width * ratio;    // Reset width to match scaled image
            }

            // Check if current height is larger than max
            if(height > width){
                //ratio = maxHeight / height; // get ratio for scaling image
                //$(this).css("height", maxHeight);   // Set new height
                //$(this).css("width", width * ratio);    // Scale width based on ratio
                //width = width * ratio;    // Reset width to match scaled image
                
                $(this).css("width", maxWidth);
                $(this).css("height", maxWidth*HWRatio);                
            }
        });
        
        
        
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    }); 
	</script>
</body>